Characterization of 3G Data-plane Traffic and Application towards Centralized 
Control and Management for Software Defined Networking 
Long Qian, Bin Wu, Renbo Zhang, Weiyu Zhang 
School of Computer Science 
Beijing University of Posts and Communications 
Beijing, China 
wubin@bupt.edu.cn 
Min Luo 
Shannon Lab 
Huawei Technologies 
Santa Clara, US 
min.ch.luo@huawei.com
 Abstract—With the wide deployment of 3G/4G cellular data 
networks there is a tremendous growth of mobile Internet 
access worldwide. We conduct a detailed measurement study 
about user behaviors, application usage and location patterns 
of users. We present a methodology that correlates different 
network attributes and user information together. For user 
behaviors we classify all users into four groups by time division 
and investigate the behaviors of different types of users. For 
example, we find that midnight users consume tremendous 
network bandwidth. We categorize applications into several 
groups and provide insights of each type of application usage 
about up/down flow user numbers and user request times. We 
also analyze the location information of users that reveal the 
relationship between network usages with user mobility. Our 
study successfully provides network operational insights with 
the details of network usage or the user remarkable behaviors 
that can help network planners and operators to plan and 
adaptively adjust network capacity assignment and flow or 
application management. Most importantly it will help service 
providers to reduce their operating cost and offer more flexible 
and variety of services to meet the needs of today’s mobile 
clients without the need of increasing capacity in congested 
areas. Finally, our analysis will enable much more efficient 
routing and resource allocation management applications in 
the recent endeavor for software defined networking that will 
put such responsibility into the logically centralized controllers. 
Keywords-data-plane; 3G networks; User behavior; App usage 
behaviors; centralized control plane; software defined 
networking (SDN) 
I. INTRODUCTION
 Third-generation and fourth-generation mobile 
networks are becoming an increasingly important component 
of the global telecommunications infrastructure. The 
functional complexity inherited from the cellular paradigm, 
coupled with the openness of the TCP/IP world [1]. There 
are many types of devices that enable mobile Internet access, 
such as tablet computers, laptops with WiFi or attached data 
cards, and smartphones. On the other hand, the number and 
popularity of mobile applications has been rising 
dramatically due to the accelerating rate of adoption of 
smartphones or pads. For example, Android has 150K apps 
and 350K daily activations [2]. Moreover, 3G deployments 
continue to evolve: network equipment undergo regular 
software and hardware upgrades to increase capacity and add 
new features, users’ behavior changes significantly with the 
broad acceptance of new applications [3]. Compared to 
traditional wire networks, cellular networks not only have 
relatively limited data-plane link capacity, but also have 
higher control-plane overhead that increases the loading of 
the network core [4]. 
 The emergence of software defined networking (SDN) 
has sparked significant interest in rethinking classical 
approaches to network architecture and design. By providing 
a well-defined programming interface to the network (e.g., 
Open-Flow [5]), SDN separates data forwarding with the 
control logic that traditionally resides inside individual 
routing or switching devices, and centralize the routing and 
other control in the centralized controller [6], and running 
other management applications on top of the controller. On 
the other hand, Network management involves two 
important stages: (1) measuring the network and then (2)
 adjusting the control of the network accordingly. While there 
have been many efforts on designing the right APIs for 
network control, little thought has gone into considering 
measurement and analysis. Since control and measurement 
are two important halves of network management, it is 
important to measure and analysis the traffic characterization 
of network. 
 From the perspectives of network operators, it is 
important to understand the traffic patterns of different 
applications and usage patterns. Since HTTP is the dominant 
protocol in mobile Internet applications, we specifically 
study characterization of user behaviors and applications in 
such an environment. Understanding those characterization 
and traffic patterns can shed light on how to provision 
network resources, and enable much more efficient routing 
in the recent endeavor for software defined networking that 
will put such responsibility into the logically centralized 
controllers. These findings can also suggest that cloud 
platforms that host mobile application servers leverage 
distinct usage patterns in classes of apps to maximize the 
utilization of their resources.  
 In this paper, we conduct an in-depth measurement 
analysis on the traffic of different users and applications of a 
commercial 3G UMTS network deployed in a southern city 
in China. At the core of 3G network, we collect and analyze 
a 24x7 hour span IP data packets, which correspond to data-
 plane. In contrast to previous work, we use signatures based 
on HTTP headers to distinguish the traffic from different 
2013 IEEE International Congress on Big Data
 978-0-7695-5006-0/13 $26.00 © 2013 IEEE
 DOI 10.1109/BigData.Congress.2013.44
 278
apps. Due to the format of User-Agent in HTTP headers 
when mobile apps use standard platform APIs, this technique 
gives us the ability to gather statistics about each individual 
app, not just categories of network traffic characterized by 
port number. We identify more than 2M users per day on 
average, as well as different IP applications. The extensive 
scales of our datasets allow us to conduct comprehensive 
analysis. In summary, we make the following three 
contributions: 
 We analyze the dataset in four parts: overview, user 
behaviors, application characteristics and locations. We 
compare different day’s network usages and reveal the 
common scenarios and differences. We category users 
into four groups by time span division and make the 
observations in user behaviors of each kind. We 
conduct a classification in application types by 
distinguishing the content type. Correlating the 
application types to other attributes like data flow and 
user’s id, our study shows the key difference of 
application services in several perspectives. 
Furthermore, we identify that users who use mobile 
Internet service in more different locations will have 
more traffic contribution and thus more consumption of 
network bandwidth. By clustering base stations, we 
present some features of location from flow and 
account aspects.  
 When we monitor a large volume of traffic data for 
detailed statistics, a long period or a large-scale 
network, it is difficult to handle Tera or Peta-byte 
traffic data with a single server. Our data preprocess is 
implemented by using Hive, a data warehouse system 
for Hadoop that facilitates easy data summarization and 
the analysis of large datasets stored in distributed 
Hadoop compatible file systems. This allows us to 
parallelize the data extraction and group operation. 
Moreover, we use Mahout to implement parallel data 
mining method like K-means clustering algorithm.
  The data set that we use to study traffic characterization 
is significantly more diverse geographically and in user 
base than previous studies. It converse hundreds of 
thousands of smart phones in this 3G network. This 
allows us to make more generalizable conclusions 
about smartphone usage patterns. 
 The rest of this paper is organized as follows. Section 2 
reviews related work on 3G traffic measurement. In section 3 
we present our traffic analysis framework. In section 4 we 
describe the datasets and preprocessing. Section 5 presents 
our findings from the datasets. Finally, a few concluding 
remarks are given in Section 6. 
II. RELATED WORK
 There have been a small number of studies focusing on 
Internet traffic in 3G mobile networks. Svoboda et al. [7]  
analyze various aspects of GPRS and UMTS traffic using 
anonymous header traces. They study traffic volume per user 
and protocol mix. In terms of protocol mix, they find that 
HTTP is the dominant protocol with 40–60 % of traffic. 
They discover that the global traffic composition is relatively 
stable on a daily basis, with some moderate differences 
between weekends and working days. Heikkinen et al. [8] 
analyze P2P usage from passive UMTS header traces in 
Finland from 2005–2007. Web traffic accounts for 57–79% 
of bytes from mobile hand-held devices, email for 10–24%, 
and P2P is not noticeable. However, they point out that a 
notable growing trend for computer-based P2P file sharing 
traffic is visible in GSM/UMTS networks. Ridouxet al. [9] 
collects data from a CDMA2000 network, and compares the 
similarities and differences with wire line data traffic. 
Williamson et al. [10] analyze packet/data call event traces 
from a CDMA2000 net-work from 2004. They focus their 
analysis on link-layer behavior, session properties, and user 
mobility. Their results also identify power-law properties in 
several traffic characteristics. 
 Several studies have analyzed TCP performance and 
low-level traffic characteristics in GPRS and CDMA data 
networks [11]. Other studies analyze the content requested or 
available for mobile devices. Kilpi and Lassila [12] analyze 
the round-trip times of TCP flow data collected at a 
GPRS/UMTS network. Using data from 2000, Adya et al. 
[13] analyze the Web server logs of a major commercial site 
and study the requests of mobile clients. They find that stock 
quotes, news, and yellow pages were the most commonly 
accessed content in their traces. The DARWIN group 
collects IP packets at a GPRS/UMTS core network, and 
analyzes various issues such as TCP performance [14].They 
find that the frequency of re-transmission events is a 
powerful indicator for the specific type of bottleneck under 
study, and it can be used to provide early warning about 
future occurrences of similar events. Verkasalo [15] studies 
how Symbian phone features are used by instrumenting the 
handset. He finds that the camera feature and games are the 
most common multimedia applications. Timmins et al. [16] 
use active measurements to crawl the Web for sites offering 
specialized content for mobile devices. 
Several studies analyze web-application usage and data 
traffic behavior in 3G networks. Trestian et al. [17] analyzes 
mobility and web-application usage in a 3G network from a 
metropolitan area. They characterize web-application usage 
by counting the number of HTTP request and find that social 
networking, music, and e-mail are the most common web. 
However, they do not asses who many users utilize a 
particular application. Huang et al. [18] propose a tool called 
3GTest, which runs on thousands of smart phones over a 
wide geographic coverage. Each 3GTest-enabled device 
generates probe traffic to measure the network performance. 
They also design a set of experiments to quantify how 
application performance, in particular web browsing, is 
impacted by various factors, and where the performance 
bottleneck is. Falaki et al. [19] study the smart phone traffic 
and identify the differences of user behavior based on the 
traces collected from a number of individual devices. They 
find that browsing contributes most traffic, lower layer 
protocols have a high overhead due to small transfer sizes, 
and packet loss is the primary bottleneck for traffic 
throughput. Gember et al. [20] compare handheld and non-
 handheld devices in a campus WiFi network. They study of 
the differences in the content and flow characteristics of 
279
handheld versus non-handheld traffic. Xu et al. [21] analyze 
the IP data traffic collected inside a tier-1 network core, and 
study the usage behavior of a variety of smart phone 
applications from the operator's perspective. They identify 
traffic from distinct marketplace apps based on HTTP 
signatures and present aggregate results on their spatial and 
temporal prevalence, locality, and correlation. He et al. [22] 
analyzes the data/control-plane performance of different 
device types using massive traces collected from the core of 
a 3G UMTS city-wide network. They present a methodology 
that studies the interactions of different data/control-plane 
datasets, and make several key observations from their 
analysis. They well used the control-plane dataset but what 
they find is lack of location information and their dataset is 
from 2010 which cannot match the nowadays mobile 
network situation very well. Our work complements the prior 
studies by also analyzing the data-plane performance. 
Specifically, we study data traffic behavior in HTTP level 
including location information and our dataset is very new. 
III. TRAFFIC ANALYSIS FRAMEWORK
 SDN-enabled Network Controller
 Services Modules
 Device
 Management Routing Topology
 Link
 Discovery Qos
 Traffic
 Engineering
 Traffic Analysis
  Big Data
 Preprocessing
  Analysis Methods
 Library
  Combination and
 Mining
  Visualization
 Physical and Virtual Network Infrastructure
 User behaviors
 Application
 Location
 Overview
 Figure 1.Analysis Framework 
To better show our analysis process and the position in 
SDN network we here put Figure 1 to make an illustration 
first. The whole system consists of physical and virtual 
network infrastructure and SDN-enabled network controller 
layers. The real network state and information are generated 
in physical and virtual network infrastructure and our 
analysis dataset is just a subset of them. SDN controller 
(such as the Smart Openflow Controller (SOX) [6]) 
centralizes the network intelligence and maintains a global 
view of the network. They offer a flexible software defined 
network management in a simplicity and reliability way. 
The main work in this paper is about a traffic analysis to 
support the services modules in the controller. 
 The main analysis components involve: big data 
preprocessing, analysis methods library, combination and 
mining and visualization. 
A. Big Data Preprocessing 
In Internet traffic measurement and analysis, flow-
 based traffic monitoring methods are widely deployed 
throughout Internet Service Providers (ISPs), because the 
volume of processed data is reduced and many convenient 
flow statistics tools are available. After storing flow data 
from flow probes on the local disk, we move the raw flow 
files to the cluster file system, HDFS. As the current 
Hadoop mapper supports only text files for the input format, 
we convert flow files to text-format ones. As the size of 
text-format flow files is much larger than that of binary-
 format ones, we need to support binary flow files to the 
inputs for Mapper.  
B. Analysis methods library 
Analysis methods library mainly contains classification,
 clustering and association rules.  
Traffic classification, the process to find out what type of 
application protocols used by the end users, is an essential 
component for network management. The traditional 
method is port-based, which inspects the transport-layer port 
number fields in packet headers and then identifies the 
application-layer protocols according to the well-known 
port. However, this method has become increasingly 
inaccurate. Deep packet inspection (DPI) can either match 
signature patterns in packet payloads or validate application-
 layer protocol message formats. However, DPI approach has 
high computational overheads and requires some up-to-date 
knowledge of the target protocols beforehand. BLINC[23]
 introduces a new approach for traffic classification. The 
basic idea of BLINC is to look at the communication pattern 
generated by a particular host, and to compare it to the 
behavior patterns representing different applications. 
BLINC is able to accurately associate hosts with the 
services they provide or use. Therefore, we can identify new 
appearing applications such as P2P and VoIP in order to 
understand the make up of traffic in application level. 
Traffic Clustering, the aim of cluster analysis is to partition 
a set of objects into groups or clusters in such a way that 
profiles of objects in the same group are similar, whereas 
the profiles of objects in different clusters are distinct. 
Generally speaking, cluster analysis methods are of two 
types: hierarchical and partitioning methods. K-means 
clustering [24] is a clustering analysis algorithm that groups 
objects based on their feature values into K disjoint clusters. 
In this paper we use K-means clustering method to partition 
users based on their network usage patterns.
 C. Combination and Mining 
As input to the data mining process, we make use of 
flow records. In this context, a flow is defined as a 
unidirectional stream of IP packets identified by a common 
IP five-tuple (protocol type, source IP address, destination 
IP address, source port, destination port). Apart from the IP 
five-tuple information, a flow record contains statistical 
information such as the number of packets and bytes 
observed in a certain period of time. First, flow records are 
classified according to the transport protocol and predefined 
port numbers which are typical for commonly used services. 
Distinguishing flows by their protocol and service-specific 
port numbers thus allows applying the K-means clustering 
algorithm separately for different services identified by their 
(protocol, port) pairs. Separately for each class, we 
aggregate and transform flow records into datasets for 
280
equally spaced time intervals, considering the start time of 
each flow. 
D. Visulization 
For data mining to be effective, it is important to 
include the human in the data exploration process and 
combine the flexibility, creativity, and general knowledge of 
the human with the enormous storage capacity and the 
computational power of computers. The basic idea of visual 
data exploration is to present the data in some visual form, 
allowing the human to get insight into the data, draw 
conclusions, and directly interact with the data. Visualizing 
the clustering results can help to quickly assimilate this 
information and provide insights that support and 
complement textual descriptions or statistical summaries. 
For example, we quickly wish to know how well defined are 
the clusters, how different are they from each other, what is 
their size, and do the observations belong strongly to the 
cluster or only marginally. 
 The following sections will analyze the dataset in four 
aspects: overview, user behaviors, application service and 
locations. All of what we do is to make some useful analysis 
results to support the SDN controller managements and 
decision. 
IV. DATASETS AND PREPROCESSING
 A. Datasets 
We capture traffic in data plane from a commercial, 
city-wide 3G UMTS network in a metropolitan in China. 
The simplified topology of the 3G UMTS network we 
consider is pictured in Figure 2. Based on GN signaling 
monitoring we are able to capture all mobile users’ data 
traffic. By using the optical equipment we create a traffic 
image from the GGSN. And then we apply a deep packet 
inspection (DPI) module to parse the data and finally 
generate user access data traffic logs. The original data set 
contains 32 attributes including phone number, capture time, 
IMEI (SV), URL, content type, up flow, down flow, location, 
etc. The volume of data set is about 1.8T and time span is 
covering 7 days. To simplifying the analysis and focus on 
some important problems we extract part of the all 32 
attributes. The vital attributes that we analyze later is shown 
in Table 1.
 Table 1. Description of part attributes of data set 
Attribute Name Description
 CAPTURETIME Start Time. Format: YYYY-MM-DD HH24:MI:SS.xxxxxxxxx
 MSISDN Mobile Subscriber International ISDN/PSTN 
number (Phone Number)
 URL Error rate is less than 0.001%
 CONTENTLEN The length of the content
 CONTENTTYPE The type of the content
 RESPDELAY Response delay. Unit is a millisecond
 DURATION The duration of a link
 FLOW The sum of up flow and down flow
 UPFLOW The up flow of a link
 DOWNFLOW The down flow of a link
 LAC location area code
 CI CI/SAC: Cell Identity/Service Area Code
 RATTYPE RAT Type. ‘1’ is 2G, ‘2’ is 3G
  The 7-day span of data traffic set is collected from 
March 11, 2013 to March 17, 2013. Considering the time of 
data set we can see that this data set can reflect the latest user 
behaviors and URLs distribution. This ‘up to date’ feature 
will bring us valuable nowadays data traffic using situation. 
We expect that the dramatic growth of the mobile network 
development, continuing upgrade of Smartphone operating 
system and evolution of web service demand the data set of 
real-time. 
 It is possible to find more interesting result from this 
data set than what we have done in this paper because the 
attributes consist solid information and each other has a 
potential correlation that can predict some other meaningful 
regular pattern. 
Figure 2. A simplified architectural view of a 3G UMTS network 
B. Preprocessing 
Preprocess Implementation. Our data preprocess is 
implemented by using Hive. Hive is a data warehouse 
system for Hadoop that facilitates easy data summarization 
and the analysis of large datasets stored in Hadoop 
compatible file systems. Hive provides a mechanism to 
project structure onto this data and query the data using a 
SQL-like language called HiveQL. This allows us to 
parallelize the data extraction and group operation. And 
Hive dramatically reduces the amount and difficulty of our 
work in processing with data set of big volume. Our Hadoop 
platform consists of one namenode and nine datanodes. 
Each server has 16 CPU cores and 48G memory. The 
average time of Hive operation is less than ten minutes. 
 To utilize the benefits of Hive in dealing with massive 
data we implement five different operators by HiveQL: 
Select, Groupby, Sort, Count and Sum. These basic 
operators are well covering the main data processing and 
save our much time and effort. 
C. Limitations 
One limitation of our work is that we have not standard 
criteria to classify the service type. And it is also difficult to 
classify user behaviors by URL patterns since URLs are 
various and some of them are presented as IP addresses that 
hard to decrypt. Another limitation is that we only have one 
data set and are lack of information about control-plane 
information and detail of network framework like topology 
and traffic strategy. This makes us unable to go deep in 
giving suggestions to network operators from our 
observations and conclusions. 
281
V. MEASUREMENT RESULTS
 A. Overview 
Since we have not only one-day data set we first give a 
general overview of our all captured data traffic. Beside the 
traffic volume distribution in each day time we also focus 
on other attributes such as user numbers, request numbers 
and response delay. Only one or two attributes are not 
convincing enough that traffic distributions of each day are 
stable. The interest of what we are looking for is more in the 
difference than the common ground. 
Figure 3. User number (per hour) over three days 
Figure 4.Average request times per userover three days 
 We compare user number and average user request 
times variation trend over three days: March 15, March 16 
and March 17 in 2013. March 15 is Friday and March 16, 17 
are weekend of China work tradition. From Figure 3 we can 
see from 0:00 a.m. to 11:00 a.m. user number trends are 
correlative over three days but from afternoon to 24:00 the 
user number trends are not consistent. Therefore user 
number trend can be different in each day.  We also 
compare the average user request number in Figure 4 and 
find the change of request number trends are similar over 
three different days. 
 In the following analysis, we only focus on the 1-day 
traces on March 17, 2013 for analysis simplicity purpose.  
 To classify users is an effective method not only can 
reduce the data set volume but also more significantly 
discover user behaviors, which can be meaningful to 
understand the whole network utilization. However, there is 
not only one criterion to categorize users and it is hard to 
choose the best one. Therefore, we put users into four 
categories: morning users, afternoon users, evening users 
and midnight users by dividing the 24 hours into four splits. 
According to Figure 5 we choose a series of time spans and 
the break point is the time with big change of the user 
number. Table 2 presents the details. 
B. User Behaviors Characteristics 
Figure 5. User number distribtuion in one day
 Table 2. Time spans of user categories 
Time Span Description 
1:00 a.m. ~ 7:00 a.m. Midnight user 
7:00 a.m. ~ 2:00 p.m. morning user 
2:00 p.m. ~ 6:00 p.m. afternoon user 
6:00 p.m. ~ 1:00 a.m. evening user 
Figure 6 presents behaviors of four different kinds of 
users. Picture (a) shows the request number per user of four 
kinds. We can see evening users have the highest average 
request number than others. Ignoring the number of 
midnight users, we can discover that midnight users are 
frequent network user. Users in afternoon type have the 
lowest average request number and this result conform to 
our intuition that people are usually busy and tire in the 
afternoon. Picture (b) reveals the total up flow and down 
flow usage patterns in different types of users and otherwise 
picture (c) reveals the average of up flow and down flow 
usage. The interesting finding is that the midnight users 
have second highest down flow but the up flow is not 
remarkable difference with other three categories of users. 
We can infer that midnight user has common up flow usage 
behaviors and particular high down flow usage in per user 
dimension. 
C. Application Characteristics 
Table 3. Description of content types 
Content-Type Description
 Application
 The application content type allows for the 
transmission of application data or binary data, 
effectively allowing for specific handling of 
application data.
 Image The image content type allows standardized image files to be
 Text The text content type is used for message content that is primarily in human-readable text character format.
 Audio The audio content type allows standardized audio files to be included in messages.
 Video The video content type allows standardized video files to be included in messages.
 Multipart Multi-part Content-Type headers identify multipart 
messages.
 Other The CONTENTTYPE attribute is unable to put into 
any types above.
 From the dataset, we can get all users’ URLs they have 
visited and the content type of a certain user request. In this 
paper we characterize the applications by classify the 
content type. The content type is MIME types, which are 
specified in two parts. The top-level media type declares the 
282
general type of media, and the subtype defines the specific 
format for that media. Here we select the top-level media 
type and category the application into seven types. Table 3
 shows the application types considered in our analysis. 
 In Figure 7 (a), we can see image and application types 
occupy the most part of down flow. Text and video types 
account for 10% and 6%. Compared with (a) the distribution 
of up flow is very different in (b). Application type 
dominates the majority of the up flow. Text, image and 
other types each accounts for nearly 20% up flow. In Figure 
7 (c), each segment means the number of users that use a 
certain application type a day. In addition, to a user he or 
she might be included in not only one segment in the same 
day. Figure 7 (c) implicates that most of users use 
application type and the following type is text, other and 
video. The usage request distribution is displayed in Figure 
7 (d). The request number of image type is near the same 
with the application. Considering the user number of image 
type is much less than the application user number, we can 
see the image type user use image type application more 
frequently than users of application type. 
Figure 6. User behaviors characteristics result 
 
Figure 7. Application characteristics 
D. Location Characteristics 
One prominent feature of mobile network is the user 
equipment (UE) can be portable that means any user can 
move to several places in a day. Hence, the movement 
ability in this paper is a critical dimension taken into 
consideration. Each log in the dataset consist the user 
location presented by LAC and CI. By combining the LAC 
and CI we can identify a unique location point. We define a 
user’s movement ability as the number of location points he 
or she visit in a day. 
Figure 8. User number distribution in movement ability 
 Figure 8 shows that during day time the number of 
users visited only one location account for 75% of total 
user number. 18% users visited two locations and only 5% 
283
users in three different locations used data service. 
Other users which visited more than four locations 
account only 2% of all users. This result implicates that a 
great number of users do not like to use mobile Internet 
in many different locations. However, the proportion of 
user number cannot express all facts related with the 
location dimension. 
 We also statistic the data flow usage per user in 
different movement abilities and we discover that users 
which visited three different locations has the largest 
average down flow from Figure 9. The flow unit is byte. 
And to average up flow the three different locations user 
and other users have very high amount in a day. We should 
notice that ‘other’ users’ number only account 2% of all 
users. Therefore, we can conclude that users with high 
movement ability are more likely to use mobile Internet 
service and contribute more data traffic flow than other 
users. 
Figure 9.Flow per user distribution in movement ability
 Figure 10 can further implicate those users with more 
locations use the mobile Internet more frequently. In 
addition, those users only stay in one place do not use data 
service frequently like others. 
Figure 10.Request number per user distribution in movement ability 
By grouping dataset into parts according to base 
station (BS), we depict a BS with its total up flow and total 
down flow during a day. Each BS could be presented as a
 specific point in Figure 11 where the X-axis represents the 
total up flow and the Y-axis represents total down flow. 
We use K-means algorithm to cluster base stations
 and those BS sharing similar flow characteristics are put 
into a same cluster. In Figure 11 a bubble represents a
 cluster and the number of BS in the cluster determine the 
radius of the bubble. For the visualization reason the two 
largest down flow clusters are not display in the Figure 11. 
Table 4 shows the center and the total number of each 
cluster. From Figure 11 we can see some interesting 
distribution and variation from clusters. First, the minimum 
flow cluster account for 14.25% and the largest three 
clusters all account 29.43%. They account for near a half of 
the BS. Second, the larger flow clusters are more scattering 
than others are. Third, the mini flow BS clusters show a
 continuity, that is, the flow features do not change intensely. 
Figure 11. Base station clustering by flow features 
Table 4. Base station distribution 
UPFLOW(Mb) DOWNFLOW(Mb) COUNT ACCOUNT
 9.41 93.98 14392 15.73%
 5.46 51.21 13032 14.25%
 0.23 0.93 11318 12.37%
 17.68 188.22 9943 10.87%
 3.58 31.28 9177 10.03%
 0.69 4.12 7566 8.27%
 2.64 21.48 6464 7.07%
 1.13 7.67 6228 6.81%
 2.06 15.69 5400 5.90%
 1.59 11.46 5355 5.85%
 36.72 430.37 2592 2.83%
 VI. SUMMARY, IMPLICATIONS, AND CONCLUSIONS
 This section gives the summary our key observations 
and describes some implications from the analysis results. 
Conclusions involve the measurement results and our 
possible future work. 
By grouping users into four parts, we find the midnight 
users have remarkable heavy usage of network. Although 
the number of midnight users account for a small portion, in 
average user usage perspective midnight users have second 
highest down flow data traffic and similar up flow volume 
with others. Another discovery is that midnight users have 
more average request times than afternoon users. Since 
midnight user category is not of big amount, we suggest 
they have some kind particular behavior pattern. 
We also classify applications by identifying each log’s
 content type. From different aspects, we can see different 
application types have particular user usage. Video types 
account for 6% of total down flow volume. Application and 
image occupy most down flow volume and to up flow 
application, image, text and other all account for an equally 
important portions. User number distribution is very similar 
to up flow distribution and number of users that use other 
application account for remarkable 22% of all certain 
application users. User request distribution shows that 
image and application types both account for 30% and text 
284
type comes to third place. These results reveal that 
application type dominates a significant part and down flow 
distribution is different from up flow distribution. 
We analyze the correlations between user movement 
ability and other attributes. The number of users only with 
one location a day occupies 75% of all users and users with 
more than two locations only account for 2%. However, 
when we come to the average user usage high movement 
ability users have relative high up flow and down flow. And 
to request number per user they have the highest value than 
others. By clustering base stations, we find that the largest 
and minimum BS clusters account for almost 1/3 of the BS. 
The mini flow clusters show more continuity than those 
scattering large flow clusters. 
 This paper analyzes the data-plane characteristics of a 
3G UMTS city-wide network. From different dimension, we 
present a whole picture of user behaviors, applications and 
location characteristics. The observations from our analysis 
could be of interest to network operators and researchers to 
investigate more details information about 3G UMTS 
network. Understanding those traffic patterns of different 
applications and users, enable much more efficient routing 
by controller of software defined networking. Since our 
dataset is very new, our measurement results can reveal 
some characteristics of the latest UMTS network user 
behaviors and application service. We only discuss data 
collected in a specific city. However, considering the city 
location does not influence the user behaviors much 
seriously we believe that one city data analysis is applicable 
and useful to others. Our future work will go deep in some 
specific user behaviors and network usage patterns.  
ACKNOWLEDGMENT
 This work is supported in part by the Huawei grant 
YB2012120122. 
REFERENCES
 [1] P. Traynor, P. McDaniel, and T. La Porta. "On attack causality in 
internet-connected cellular networks." Proceedings of 16th USENIX 
Security Symposium on USENIX Security Symposium. USENIX 
Association, Aug. 2007, pp. 1-16. 
[2] Google. Eric Schmidt at Mobile World Congress 2011. 
http://www.youtube.com/watch?v=ClkQA2Lb_iE&feature=related. 
[3] Q. Xu, J. Erman, A. Gerber, Z. Mao and J. Pang. "Identifying diverse 
usage behaviors of smartphone apps." Proceedings of the 2011 ACM 
SIGCOMM conference on Internet measurement conference. ACM, 
Nov. 2011, pp. 329-334. 
[4] P.P.C. Lee, T. Bu and T. Woo. "On the detection of signaling DoS 
attacks on 3G/WiMax wireless networks." Computer Networks 
53(15),Oct. 2009, pp. 2601-2616. 
[5] OpenFlow Switch Specification, Version 1.3.1, 
https://www.opennetworking.org/images/stories/downloads/sdn-
 resources/onf-specifications/openflow/openflow-spec-v1.3.1.pdf 
[6] M. Luo, Y.J. Tian, Q.C. Li, J. Wang and W. Chou. “SOX – A
 Generalized and Extensible Smart Network OpenFlow Controller (X).” 
First SDN World Congress, Damsdadt, Germany, October 2012. 
[7] P. Svoboda, F. Ricciato, E. Hasenleithner, et al. "Composition of 
GPRS, UMTS traffic: snapshots from a live network." IPS-MOME: 
Workshop on Internet Performance. Feb. 2006. 
[8] M.V.J. Heikkinen, A. Kivi and H. Verkasalo. "Measuring mobile 
peer-to-peer usage: Case Finland 2007." Passive and Active Network 
Measurement. Springer Berlin Heidelberg, 2009, pp. 165-174. 
[9] J. Ridoux, A. Nucci and D. Veitch. "Seeing the difference in IP traffic: 
Wireless versus wireline." Proc. IEEE INFOCOM. 2006. 
[10] C. Williamson, E. Halepovic, H. Sun, et al. "Characterization of 
CDMA2000 cellular data network traffic." Local Computer Networks, 
2005. 30th Anniversary. The IEEE Conference on. IEEE, 2005, pp. 
710-719. 
[11] P. Benko, G. Malicsko and A Veres. "A large-scale, passive analysis 
of end-to-end TCP performance over GPRS." INFOCOM 2004. 
Twenty-third Annual Joint Conference of the IEEE Computer and 
Communications Societies. Vol. 3. IEEE, 2004, pp. 1882-1892. 
[12] J. Kilpi and P. Lassila. "Micro-and macroscopic analysis of RTT 
variability in GPRS and UMTS networks." NETWORKING 2006. 
Networking Technologies, Services, and Protocols; Performance of 
Computer and Communication Networks; Mobile and Wireless 
Communications Systems. Springer Berlin Heidelberg, 2006, pp. 
1176-1181. 
[13] A. Adya, P. Bahl and L. Qiu. "Characterizing alert and browse 
services for mobile clients." USENIX Tech. Conf. 2002, pp. 343-356. 
[14] F. Ricciato, F. Vacirca and M. Karner. "Bottleneck detection in 
UMTS via TCP passive monitoring: a real case." Proceedings of the 
2005 ACM conference on Emerging network experiment and 
technology. ACM, 2005, pp. 211-219. 
[15] H. Verkasalo. "Empirical observations on the emergence of mobile 
multimedia services and applications in the US and Europe." 
Proceedings of the 5th international conference on Mobile and 
ubiquitous multimedia. ACM, 2006. 
[16] P.J. Timmins, S. McCormick, E. Agu, et al. "Characteristics of 
mobile web content." Hot Topics in Web Systems and Technologies, 
2006. HOTWEB'06. 1st IEEE Workshop on. IEEE, 2006, pp. 1-10. 
[17] I. Trestian, S. Ranjan, A. Kuzmanovic, et al. "Measuring serendipity: 
connecting people, locations and interests in a mobile 3G network." 
Proceedings of the 9th ACM SIGCOMM conference on Internet 
measurement conference. ACM, 2009, pp. 267-279. 
[18] J. Huang, Q. Xu, B. Tiwana, Z.M. Mao and M. Zhang. "Anatomizing 
application performance differences on smartphones." Proceedings of 
the 8th international conference on Mobile systems, applications, and 
services. ACM, 2010, pp. 165-178. 
[19] H. Falaki, D. Lymberopoulos, R. Mahajan, et al. "A first look at 
traffic on smartphones." Proceedings of the 10th ACM SIGCOMM 
conference on Internet measurement. ACM, 2010, pp. 281-287. 
[20] A. Gember, A. Anand and A. Akella. "A comparative study of 
handheld and non-handheld traffic in campus Wi-Fi networks." 
Passive and Active Measurement. Springer Berlin Heidelberg, 2011, 
pp. 173-183. 
[21] Q. Xu, J. Erman, A. Gerber, Z. Mao and J. Pang. "Identifying diverse 
usage behaviors of smartphone apps." Proceedings of the 2011 ACM 
SIGCOMM conference on Internet measurement conference. ACM, 
2011, pp. 329-344. 
[22] X. He, P.P.C. Lee, L. Pan, C. He and J.C.S. Lui. "A panoramic view 
of 3g data/control-plane traffic: mobile device perspective." 
NETWORKING 2012. Springer Berlin Heidelberg, 2012,pp. 318-330. 
[23] T. Karagiannis, K. Papagiannaki and M. Faloutsos. "BLINC: 
multilevel traffic classification in the dark." ACM SIGCOMM 
Computer Communication Review. Vol. 35. No. 4. ACM, 2005, pp. 
229-240. 
[24] J. MacQueen. "Some methods for classification and analysis of 
multivariate observations." Proceedings of the fifth Berkeley 
symposium on mathematical statistics and probability. Vol. 1. No. 
281-297. 1967. 
285
