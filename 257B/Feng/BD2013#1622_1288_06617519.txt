CHARACTERIZING SPATIAL AND TEMPORAL DYNAMICS 
OF MOBILE INTERNET SERVICES IN CELLULAR DATA 
NETWORK
 Yan Guo1, Jun Liu2, Chao Dong3, Wenli Zhou4, Zhenming Lei5
 Beijing Key Laboratory of Network System Architecture and Convergence 
School of Information and Communication Engineering, Beijing University of Posts and Telecommunications 
Beijing, China 
dajialetaotao@bupt.edu.cn 
Keywords: spatial and temporal dynamics; mobile subscriber 
behaviour; traffic; mobile internet service; MapReduce 
Abstract
 Understanding spatial and temporal dynamics of mobile 
internet services in cellular data network can be of great help 
to network management and service provisioning. To this end, 
we conduct the detailed measurement analysis of spatial and 
temporal dynamics from point of view of traffic generated by 
subscribers. The analyzation is based on a large-scale data set 
collected from a commercial ISP covering an entire city in 
Southern China. We analyze individual subscriber behaviors 
and observe a significant variation in network usage among 
subscribers. We characterize mobile internet services spatial 
and temporal dynamics and identity their relation to traffic 
volume. The data set tracks more than 3 million mobile 
subscribers. To handle the problem of big data processing, the 
data are parallel processed using MapReduce programming 
model, a novel framework for distributed computing with 
proved high efficiency and low cost features. Generally, our 
observations deliver important insights into mobile internet 
service and mobile subscriber behavior. 
1 Introduction 
Fueled by the emerging of subscriber-friendly smart phones, 
netbooks and tablet devices with abundant innovative mobile 
applications, the mobile networks become an important part 
of peopleÕs life. What can be foreseen is that the traffic 
volume running through mobile network will increase 
explosively in the near future. In order to deal with such 
increases, it is necessary to understand the mobile subscriber 
behavior and its impact on the networks. This will help better 
resource planning and network designs that finally improve 
the user experience. 
Some characteristics of traffic in cellular data network have 
been posted in previous researches. Authors in [9] provide the 
fine-grained characterization of the geospatial dynamics of 
application usage in a 3G cellular data network. [3]  conducts 
a comprehensive study of smartphone use and 
characterizes the impact of those activities on network and 
energy usage. In [8], the authors conduct the first detailed 
measurement analysis of network resource usage and 
subscriber behavior using a large-scale data set collected 
inside a nationwide 3G cellular data network. [5] studies 
important factors that impact user-perceived performance of 
network applications on smartphones. There are also several 
works that study the characteristics of subscriber behavior in 
wired networks. Research work of [7] explores the residential 
broadband Internet access and establishes mental models in 
terms of user experience metrics. In [4], the authors 
investigate the preference patterns of ADSL users. Authors of 
[6] analyze subscriber behaviors based on the data extracted 
from web and draw a conclusion about subscriber behavior 
online changing with time.  
Comparing to all the existing researches, our main 
contribution is that we provide an analysis on spatial and 
temporal characteristics related with traffic volume. In 
addition,  we make use of Hadoop [10] framework and 
MapReduce [2]  programming model to analyze huge traffic 
data which could be a reference to similar research work. 
Furthermore, our insight based on data collected from ChinaÕs 
mobile internet service is important for mobile network 
operators, ISPs and application developers in China.  
The rest of our paper is organized as follows: Section 2 
describes how we capture the data which are used in this 
paper. Section 3 analyzes distribution of traffic volume 
generated by subscribers in the mobile network. Section 4 and 
Section 5 illustrate relations between traffic generated by 
subscribers to their spatial as well as temporal characteristic. 
Finally the conclusion is drawn in Section 6. 
2 Data capture 
2.1 Data capture 
The experimental data set processed in this paper are 
collected by deployed commercial Traffic Monitoring System 
(TMS) devices. It is placed at the central node of a leading 
mobile network operator in Southern China. There are around 
3 million subscribers in the city from which we collect data.  
Figure 1: TMS in network. 
Date Log Volume Flow Numbers
 Day 1 682.66GB 1,530,545,227 
Day 2 655.17GB 1,472,557,724 
Day 3 602.16GB 1,366,522,080 
Table 1: Daily log volume and flow numbers. 
102 104 106 108 1010 1012
 0
 20
 40
 60
 80
 100
 Traffic volume (bytes)
 C
 D
 F
 Day 1
 Day 2
 Day 3
 (a) 
0.01 0.1 1 10 100
 0
 20
 40
 60
 80
 100
 Percentage of subscribers
 C
 D
 F
 Day 1
 Day 2
 Day 3
 (b) 
Figure 2: (a) CDF of total traffic volume (in bytes) per 
subscriber per day. (b) CDF of normalized traffic over the 
percentage of subscriber per day. 
Key components of the monitoring system for our mobile 
subscriber behavior analysis are illustrated in Fig. 1.  
A cell tower receives the data traffic which come from mobile 
devices and then transmits it to a RNC (Radio Network 
Controller). Then the RNC delivers the data traffic to a SGSN 
(Serving GPRS Support Node). Before finally arriving at 
Internet, the data traffic go through a GGSN (Gateway GPRS 
Support Node) which provides IP connection between the 
mobile telecommunications network and external packet data 
networks (e.g. the Internet). Deployed at the Gn interface 
between SGSN and GGSN, TMS captures the data traffic 
running through the Gn interface and classifies network 
traffic employing DPI [1] and DFI [11] methods. The traffic 
data are stored in a log database in the form of flow logs. For 
the sake of privacy, the Uploader component removes the 
privacy related information before it transmits the logs to the 
HDFS  (Hadoop distributed file system) [10]. Here we define 
the flow using the {source IP, source port, destination IP, 
destination port, protocol}, which is referred to as 5-tuple 
principle. The flow logs contain information about many 
traffic features, such as traffic bytes, Server IP address, the 
location and the time when subscribers log into the net etc. 
2.2 Data description 
TMS keeps running day and night throughout a year. In this 
paper, we take the data collected from 3 days which are from 
different month for an example. And we pick a day from 
different month randomly to insure that the result we get 
reflects the real situation of subscribers. The volume of the 
flow logs and number of flow each day are shown in TABLE 
I. Note that the flow logs contain a lot of information, but we 
merely use part of them in this paper. 
3 Subscriber traffic distribution 
After capturing the traffic data, more detailed analyses are 
carried out on the mobile subscriber behaviour. In this section, 
we mainly show the amount of traffic generated by 
subscribers in the network on the 3 different days. 
Fig. 2 (a) shows the cumulative distribution function (CDF) 
of traffic generated per subscriber. This figure shows a wide 
range of traffic generated by different subscribers in the 
network. The median of the traffic is close to 600KB per day. 
However, there are heavy subscribers who generate as high as 
10GB per day as well as light subscribers generating less than 
1 KB per day. We see the CDF slightly shifts towards the left 
for Day 3 and Day 2 indicating less traffic compared to Day1. 
It reveals that traffic generated by subscribes changing 
slightly on different days.  
We also present a normalized view of traffic over a 
percentage of subscribers in Fig. 2 (b). It is interesting to see 
that only 1% of the subscribers (out of approximately about 3 
million unique subscribers who appear in each day) create 
40% of the daily network traffic and 10% of the subscribers 
create 70% of the daily network traffic. This presents a 
significant imbalance of network usage among subscribers 
with few subscribers hogging the much of the network 
resource. In the following section, the spatial and temporal 
characteristics of these subscribers will be discussed. 
0.1 1 10 100 1,000
 20
 40
 60
 80
 100
 Number of distinct LAC-CI
 C
 D
 F
 Day 1
 Day 2
 Day 3
 Figure 3: CDF of the number of distinct LAC-CI visited by a 
subscriber each day. 
102 103 104 105 106 107 108 109 1010
 0
 20
 40
 60
 80
 100
 Traffic volume (bytes)
 C
 D
 F
 1 loc.
 2 loc. to 5 loc.
 6 loc. to 10 loc.
 11 loc. to 30 loc.
 > 30 loc.
 (a) 
0.1 1 10 100 1000
 20
 40
 60
 80
 100
 Number of distinct LAC-CI
 C
 D
 F
 < 1MB
 1 MB to 10 MB
 > 10MB
 (b) 
Figure 4: (a) CDF of traffic generated per day by subscribers 
of different category based on number of locations (LAC-
 CI) visited in a day. (b)  CDF of the number of distinct 
LAC-CI visited by a subscriber per day of different 
category based on traffic volume generated by subscribers 
in a day. 
4 Subscriber spatial characteristics 
In our data set, we do not have access to the precise location 
of subscribers. However, our captured data set provide 
information about the LAC-CI the subscribers are associated  
to when they are using mobile data services. A location area 
code (LAC) identifies an area in the network to which the cell 
belongs and a cell identity (CI) identifies the cell within the 
area in the network to which it belongs. It can be said that a 
unique LAC-CI specifies a unique area. In our flow logs, we 
not only have the LAC-CI at which subscribers are when they 
get on-line but also have the off-line one. To some extent, the 
number of LAC-CI visited by a subscriber reflects the 
movement range of the subscriber. In this section, we study 
the behavior of mobile subscribers in terms of their spatial 
characteristics and explore the relations between traffic 
generated by subscribers and their movement range. 
4.1 LAC-CI visited 
Firstly, we look into the number of distinct LAC-CI an 
individual subscriber visits per day. Fig. 3 shows the CDF of 
the number of distinct LAC-CI visited by each subscriber in a 
day. Note that the distribution of three days is very similar. 
Overall, the movement range is not wide in terms of the 
number of distinct LAC-CI visited. Roughly, more than 30% 
of the subscribers are stationary, meaning they constrain 
within a cell. And about 95% of the subscribers travel across 
less than 10 distinct LAC-CIs in a day. We find that there are 
also few subscribers who visit more than 50 distinct LAC-CIs, 
however, the number of them only accounts for 0.05% of 
daily subscribers. 
4.2 Relating subscriber movement range and traffic
 It is natural to relate the subscriber spatial activity and the 
volume of traffic they generate. We categorize subscribers 
based on two metrics: (i) number of distinct LAC-CI visited 
and (ii) traffic volume generated. For the first classification 
standard, we classify subscribers into 5 groups according to 
the number of distinct LAC-CI they visit in one day. For each 
category of subscribers, we plot the CDF of traffic volume 
generated per day in Fig. 4 (a). Note that while the plot lines 
appear similar, due to the log-scale of the horizontal axis, 
there is actually significant difference in traffic volume for 
different categories. As shown in the graph, the median of the 
traffic generated by subscribes in the widest movement range 
category is roughly 30 times that of the subscribers in the 
narrowest movement range category. In Fig. 4 (b), the 
subscribers are split into 3 groups based on the traffic volume 
they generate in one day and the CDF of the number of 
distinct LAC-CI visited by each group in a day is drawn. We 
can see that almost half of the Ôlight subscribersÕ (subscribers 
who generate traffic less than 1MB per day) only visit one 
LAC-CI in one day. However, when considering all 
subscribers as shown in Figure 3, the percentage of 
subscribers who stay in one LAC-CI declines to about 30%. 
In other words, Fig. 4 (b) is similar to Fig. 4 (a) in the trend 
that Ôlight subscribersÕ tend to be more stationary. This  
0 3 6 9 12 15 18 21 24
 10
 20
 40
 60
 80
 100
 Number of hours appeared
 C
 D
 F
 Day 1
 Day 2
 Day 3
 Figure 5: CDF of number of hours subscribers generate traffic 
each day. 
102 103 104 105 106 107 108 109 1010
 0
 20
 40
 60
 80
 100
 Traffic volume (bytes)
 C
 D
 F
 1hour
 2 to 3hours
 4 to 6hours
 7 to 10hours
 11 to 15hours
 >15hours
 (a) 
0 5 10 15 20
 0
 20
 40
 60
 80
 100
 Number of hours appeared
 C
 D
 F
 < 1MB
 1MB to 10MB
 > 10MB
 (b) 
Figure 6: (a) CDF of traffic generated per day by subscribers 
of different category based on number of hours active in a 
day. (b) CDF of occurrence per day for subscribers of 
different category based on traffic volume generated by 
subscribers in a day. 
correlation of spatial activity and traffic has implications in 
resource planning and spectrum management.
 5 Subscriber temporal activity 
In this part, we study the behavior of mobile subscribers in 
terms of their activity on the temporal scale. We describe the 
temporal activity of subscribers by the number of hours in a  
day that they generate traffic. This addresses basic questions 
such as whether the subscribers generate traffic frequently or 
only occasionally.  
5.1 Subscribers active hours
 To understand the hourly activity of subscribers, we plot the 
distribution of hours in a day that the subscribers generate 
traffic. Fig. 5 shows the CDF of the number of hours that 
subscribers generate traffic. We see that about 20% of 
subscribers generate traffic only in a single hour in a day. A 
typical subscriber (median) is active in 5 different hours per 
day. Here, we come to the conclusion that a large fraction of 
subscribers generate traffic only in a few hours within the day. 
5.2 Relating subscriber active hours and traffic
 In this section, we draw relation between the traffic generated 
by subscribers and how frequently they appear in the trace. 
To begin with, we group the subscribers according to the 
number of hours that they generate traffic per day. Then for 
the sake of contrast, we draw the CDF of traffic volume 
generated in a day for each group. From the Fig. 6 (a), we can 
see clearly that the more hours subscribers appear in a day, 
the more traffic they generate. To further investigate this 
phenomenon, we classify subscribers into 3 groups based on 
traffic volume they generate. For each group, Fig. 6 (b) shows 
the distribution of hourly activity. In this plot, we notice that 
there is a big difference between Ôheavy subscribersÕ 
(subscribers who generate traffic more than 10 MB per day) 
and Ôlight subscribersÕ. A typical light subscriber appears in 1 
to 2 different hours in a day while a typical heavy subscriber 
appears in 16 to 18 different hours. Fig. 6 (a) and Fig. 6 (b) 
indicate jointly that heavy subscribers tend to spend more 
hours on the mobile Internet. 
6 Conclusion 
In this paper, we analyze spatial and temporal dynamics of 
mobile internet services in cellular data network based on a 
large set of data using MapReduce which is a distributed 
parallel programming model with proved low-cost and high-
 efficiency features. We have made several observations 
related to traffic load, spatial dynamics and temporal 
dynamics which will lead to better resource planning and 
network designs that finally benefit the subscribers. 
Acknowledgements 
This work is supported in part by National Natural Science 
Foundation of China (61072061) ? Important National 
Science & Technology Specific Projects (2012ZX03002008), 
111 Project of China (B08004) and the Fundamental Research 
Funds for the Central Universities (2012RC0121). 
References 
[1]  S. Blake, D. Black, M. Carlson, E. Davies, Z. Wang and 
W. Weiss. ÒAn architecture for differentiated serviceÓ, 
RFC 2475, (1998).  
[2]  J. Dean, S. Ghemawat. ÒMapReduce: simplified data 
processing on large  clustersÓ, Communication of the 
ACM-50th Anniversary, volume 51, pp. 107-113, 
(2008). 
[3]  H. Falaki, R. Mahajan, S. Kandula, D. Lymberopoulos, 
R. Govindan and D. Estrin. ÒDiversity in smartphone 
usageÓ, Proceedings of ACM MobiSys, pp. 179-194, 
(2010). 
[4]  M. Guo, P. Liu, F. Liu, J. Yang and Z. Lei. ÒAnalysis on 
preference patterns of ADSL usersÓ, China Universities 
of Posts and Telecommunications, suppl.2, pp. 73-79, 
(2012). 
[5]  J. Huang, Q. Xu, B. Tiwana, Z. M. Mao, M. Zhang, and 
V. Bahl. ÒAnatomizing application performance 
differences on smartphonesÓ, Proceedings of ACM 
MobiSys, pp. 165-178, (2010). 
[6]  C. Hlscher and G. Strube. ÒWeb search behavior of 
Internet experts and newbiesÓ, Computer Networks, 
volume 33, pp. 337-346, (2000). 
[7]  G. Maier, A. Feldmann, V. Paxon and M. Allman. ÒOn 
dominant characteristics of residental broadband internet 
trafficÓ, IMCÕ09, pp. 4-6, (2009). 
[8]  U. Paul, A. P. Subramanian, M. M. Buddhikot and S. R. 
Das. ÒUnderstanding traffic dynamics in cellular data 
networksÓ, IEEE Infocom, pp. 882-890, (2011). 
[9]  M. Z. Shafiq, L. Ji, A. X. Liu, J. Pang and J. Wang. 
ÒCharacterizing geospatial dynamics of application 
usage in a 3G cellular data networkÓ, Proceedings IEEE, 
Infocom, pp. 1341-1349, (2012).  
[10]  K. Shvachko, H. Kuang, S. Radia and R. Chansler. ÒThe 
hadoop distributed file systemÓ, Mass Storage Systems 
and Technologies, IEEE 26th Symposium, pp. 1-10, 
(2010). 
[11]  C. Wang, X. Zhou, F. You and H. Chen. ÒDesign of P2P 
traffic identification based on DPI and DFIÓ, 
International Symposium on CNMT, pp. 1-4, (2009). 
